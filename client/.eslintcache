[{"H:\\Web_server\\webtest\\client\\src\\App.js":"1","H:\\Web_server\\webtest\\client\\src\\index.js":"2"},{"size":6949,"mtime":1609742885301,"results":"3","hashOfConfig":"4"},{"size":383,"mtime":1608572506597,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"8"},"mz597m",{"filePath":"9","messages":"10","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"H:\\Web_server\\webtest\\client\\src\\App.js",["11","12","13","14","15"],"import React,{useState,useEffect} from 'react';\nimport './App.css';\n\nfunction App(){\n \n  useEffect(()=>{\n    const interval=setInterval(()=>{\n      getStatus();\n    },100);\n    return()=>clearInterval(interval);\n  },[]);\n  const [status,setStatus]=useState('');\n  const [status1,setStatus1]=useState(true);\n  const [status2,setStatus2]=useState(true);\n  const [status3,setStatus3]=useState(true);\n  const [status4,setStatus4]=useState(true);\n  const [status5,setStatus5]=useState(true);\n\n \n\n\n  const getStatus=async ()=>{\n    const reponse= await fetch(`http://127.0.0.1:4000/testStatus`);\n    const data = await reponse.json();\n    console.log(data.statusDevice);\n    setStatus(data.statusDevice);\n   \n}\n const R1=status.lastIndexOf(\"R1\");\n var statusR1=status[R1+4];\n\n const R2=status.lastIndexOf(\"R2\");\n var statusR2=status[R2+4];\n \n const R3=status.lastIndexOf(\"R3\");\n var statusR3=status[R3+4];\n\n const R4=status.lastIndexOf(\"R4\");\n var statusR4=status[R4+4];\n\n const R5=status.lastIndexOf(\"R5\");\n var statusR5=status[R5+4]; \n\n //\nif(statusR1 === 't'){\n  statusR1=true;\n}\nelse{\n  statusR1=false;\n}\n\nif(statusR2 === 't'){\n statusR2=true;\n}\nelse{\n statusR2=false;\n}\n\nif(statusR3 === 't'){\n  statusR3=true;\n}\nelse{\n  statusR3=false;\n}\n\nif(statusR4 === 't'){\n  statusR4=true;\n }\n else{\n  statusR4=false;\n }\n\nif(statusR5 === 't'){\n  statusR5=true;\n}\nelse{\n  statusR5=false;\n}\n //   \nvar syn1='',syn2='',syn3='',syn4='',syn5='';\n\n if(status1 != statusR1){\n   syn1=statusR1;\n }\n else{\n    syn1=status1;\n }\n\n if(status2 != statusR2){\n  syn2=statusR2;\n  }\n  else{\n   syn2=status2;\n }\n if(status3 != statusR3){\n  syn3=statusR3;\n  }\n  else{\n  syn3=status3;\n }\n if(status4 != statusR4){\n  syn4=statusR4;\n  }\n  else{\n  syn4=status4;\n }\n if(status5 != statusR5){\n  syn5=statusR5;\n  }\n  else{\n  syn5=status5;\n }\nconst sendHttpRequest = (method, url, data) => {\nconst promise = new Promise((resolve, reject) => {\nconst xhr = new XMLHttpRequest();\n xhr.open(method, url);\n\n xhr.responseType = 'json';\n\n if (data) {\n   xhr.setRequestHeader('Content-Type','application/json');\n   xhr.setRequestHeader('Accept','*/*');\n   xhr.setRequestHeader('X-Authorization','Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJsaW5oY3QwMjAzMjhAZ21haWwuY29tIiwic2NvcGVzIjpbIlRFTkFOVF9BRE1JTiJdLCJ1c2VySWQiOiIwZjcwZTAxMC05YTY5LTExZTktYmU4NC03NTZmNmIxMzAzYjUiLCJmaXJzdE5hbWUiOiJUaHV5IiwibGFzdE5hbWUiOiJMaW5oIiwiZW5hYmxlZCI6dHJ1ZSwicHJpdmFjeVBvbGljeUFjY2VwdGVkIjp0cnVlLCJpc1B1YmxpYyI6ZmFsc2UsInRlbmFudElkIjoiMGYzMDA2ODAtOWE2OS0xMWU5LWJlODQtNzU2ZjZiMTMwM2I1IiwiY3VzdG9tZXJJZCI6IjEzODE0MDAwLTFkZDItMTFiMi04MDgwLTgwODA4MDgwODA4MCIsImlzcyI6InRoaW5nc2JvYXJkLmlvIiwiaWF0IjoxNjA5MTU5NDQ2LCJleHAiOjE2MTA5NTk0NDZ9.Dlo2u1sbQouwch1W4xY60K6_o1ceHLLayGVWTRL10WnMI_etSRgwppx5hzXy_4w8CcRmMBzt_dJ1FMhGXr94iQ');\n }\n\n xhr.onload = () => {\n   if (xhr.status >= 400) {\n     reject(xhr.response);\n   } else {\n     resolve(xhr.response);\n   }\n };\n\n xhr.onerror = () => {\n   reject('Something went wrong!');\n };\n\n xhr.send(JSON.stringify(data));\n});\nreturn promise;\n};\n//synchronous...\n  \n//handleClick\nconst handleClick1=()=>{\n  setStatus1(!status1);\n  let method=\"R1\";\n  sendHttpRequest('POST', 'http://demo.thingsboard.io/api/plugins/rpc/oneway/3e85b630-28a4-11eb-85ee-f936949cce2a',{\n   method:`${method}`,\n   params:`${status1}`,\n   timeout:500\n \n})\n .then(responseData => {\n   console.log(responseData);\n })\n .catch(err => {\n   console.log(err);\n });\n \n}\nconst handleClick2=()=>{\n  setStatus2(!status2);\n  let method=\"R2\";\n  sendHttpRequest('POST', 'http://demo.thingsboard.io/api/plugins/rpc/oneway/3e85b630-28a4-11eb-85ee-f936949cce2a',{\n  method:`${method}`,\n  params:`${status2}`,\n  timeout:500\n \n})\n .then(responseData => {\n   console.log(responseData);\n })\n .catch(err => {\n   console.log(err);\n });   \n}\nconst handleClick3=()=>{\n  setStatus3(!status3);\n  let method=\"R3\";\n  sendHttpRequest('POST', 'http://demo.thingsboard.io/api/plugins/rpc/oneway/3e85b630-28a4-11eb-85ee-f936949cce2a',{\n  method:`${method}`,\n  params:`${status3}`,\n  timeout:500\n \n})\n .then(responseData => {\n   console.log(responseData);\n })\n .catch(err => {\n   console.log(err);\n });\n}\nconst handleClick4=()=>{\n  setStatus4(!status4);  \n  let method=\"R4\";\n  sendHttpRequest('POST', 'http://demo.thingsboard.io/api/plugins/rpc/oneway/3e85b630-28a4-11eb-85ee-f936949cce2a',{\n  method:`${method}`,\n  params:`${status4}`,\n  timeout:500\n \n})\n .then(responseData => {\n   console.log(responseData);\n })\n .catch(err => {\n   console.log(err);\n }); \n}\nconst handleClick5=()=>{\n  setStatus5(!status5);  \n  let method=\"R5\";\n  sendHttpRequest('POST', 'http://demo.thingsboard.io/api/plugins/rpc/oneway/3e85b630-28a4-11eb-85ee-f936949cce2a',{\n  method:`${method}`,\n  params:`${status5}`,\n  timeout:500\n \n})\n .then(responseData => {\n   console.log(responseData);\n })\n .catch(err => {\n   console.log(err);\n }); \n}\n\nconsole.log('resu: '+syn1);\n \n   return(\n    <div className=\"main\">\n    <div className=\"container\">\n      <div className=\"submain-relay\">\n        <div className=\"sub-main\">\n          <div id=\"post-btn-relay1\" type=\"button\" className={syn1 ? 'on':'off'} onClick={handleClick1}>\n              <h3>Đ1</h3>\n          </div>\n        </div>\n      </div>\n      <div className=\"submain-relay\">\n      <div className=\"sub-main\">\n        <div id=\"post-btn-relay2\" type=\"button\" className={syn2 ? 'on':'off'} onClick={handleClick2}>\n            <h3>Đ2</h3>\n        </div>\n        </div>\n      </div>\n      <div className=\"submain-relay\">\n      <div className=\"sub-main\">\n        <div id=\"post-btn-relay3\" type=\"button\" className={syn3 ? 'on':'off'} onClick={handleClick3}>\n            <h3>Đ3</h3>\n        </div>\n        </div>\n      </div>\n      <div className=\"submain-relay\">\n      <div className=\"sub-main\">\n        <div id=\"post-btn-relay4\" type=\"button\" className={syn4 ? 'on':'off'} onClick={handleClick4}>\n            <h3>Cửa</h3>\n        </div>\n        </div>\n      </div>\n      <div className=\"submain-relay\">\n      <div className=\"sub-main\">\n        <div id=\"post-btn-relay5\" type=\"button\" className={syn5 ? 'on':'off'} onClick={handleClick5}>\n            <h3>Quạt</h3>\n        </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"container\">\n     <div className=\"submain-status\">\n       <h4>Status light 1</h4>\n        <div className={syn1 ? 'status-on':'status-off'}></div>\n     </div>\n     <div className=\"submain-status\">\n        <h4>Status light 2</h4>\n        <div className={syn2 ? 'status-on':'status-off'}></div>\n     </div>\n     <div className=\"submain-status\">\n       <h4>Status light 3</h4>\n        <div className={syn3 ? 'status-on':'status-off'}></div>\n     </div>\n     <div className=\"submain-status\">\n        <h4>Status door </h4>\n        <div className={syn4 ? 'status-on':'status-off'}></div>\n     </div>\n     <div className=\"submain-status\">\n        <h4>Status fan </h4>\n        <div className={syn5 ? 'status-on':'status-off'}></div>\n     </div>\n    </div>\n    </div>\n   )\n}\n\nexport default App;\n","H:\\Web_server\\webtest\\client\\src\\index.js",[],{"ruleId":"16","severity":1,"message":"17","line":82,"column":13,"nodeType":"18","messageId":"19","endLine":82,"endColumn":15},{"ruleId":"16","severity":1,"message":"17","line":89,"column":13,"nodeType":"18","messageId":"19","endLine":89,"endColumn":15},{"ruleId":"16","severity":1,"message":"17","line":95,"column":13,"nodeType":"18","messageId":"19","endLine":95,"endColumn":15},{"ruleId":"16","severity":1,"message":"17","line":101,"column":13,"nodeType":"18","messageId":"19","endLine":101,"endColumn":15},{"ruleId":"16","severity":1,"message":"17","line":107,"column":13,"nodeType":"18","messageId":"19","endLine":107,"endColumn":15},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected"]